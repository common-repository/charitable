const CharitableWPCode=window.CharitableWPCode||function(i,a,$){const t={spinnerBlue:'<i class="charitable-loading-spinner charitable-loading-blue charitable-loading-inline"></i>',spinnerWhite:'<i class="charitable-loading-spinner charitable-loading-white charitable-loading-inline"></i>',snippetSearch:null,init(){$(t.ready)},ready(){if($("#charitable-wpcode-snippets-list").length){var i=new List("charitable-wpcode-snippets-list",{valueNames:["charitable-wpcode-snippet-title"],listClass:"charitable-wpcode-snippets-list"});$("#charitable-wpcode-snippet-search").on("keyup search",(function(){t.searchSnippet(this,i)}))}t.events()},events(){$(".charitable-wpcode-snippet-button").on("click",t.installSnippet),$(".charitable-wpcode-popup-button").on("click",t.installPlugin)},installSnippet(){const i=$(this);if("edit"===i.data("action"))return;const a=i.width();i.prev(".charitable-wpcode-snippet-badge").addClass("charitable-wpcode-installing-in-progress").text(charitableWpcodeVars.installing_text),i.width(a).html(t.spinnerBlue)},searchSnippet(i,a){var t=$(i).val();t=t.replace(/[.,]/g," ");const e=a.search(t),n=$("#charitable-wpcode-no-results");0===e.length?n.show():n.hide()},installPlugin(){const i=$(this);if(i.hasClass("disabled"))return;const a=i.attr("data-action"),e=i.attr("data-plugin"),n=JSON.stringify({overwrite_package:!0}),l="activate"===a?"charitable_activate_addon":"charitable_install_addon";i.width(i.width()).html(t.spinnerWhite).addClass("disabled");const s={action:l,nonce:charitable_admin.nonce,plugin:e,args:n,type:"plugin"};$.post(charitable_admin.ajax_url,s).done((function(){location.reload()}))}};return t}(document,window,jQuery);CharitableWPCode.init();